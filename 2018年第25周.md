

2018年第25周

## Task

1、SpringBoot中传递对象

2、完成编辑后更新Demo页面内容

​      分页(拓展) 

## SpringBoot

```java
@Update(" update " +
            TABLE +
            " set " +
            "`status` = #{status}, " +
            "`send_time` = #{sendTime}" +
            " where `id` = #{id} ")
void updateStatusAndSendTime(MailJob mailJob);
```



## React

render={(text, record) => (）}

React —— antd Table组件的使用
https://www.cnblogs.com/jenifurs-blog/p/6020737.html

Antd使用心得-table组件
https://blog.csdn.net/u010080006/article/details/78868278

## Java 

、org.slf4j;

、equals

、方法

```java
public String getmailContent() throws IOException {
 	InputStream inputStream = getClass().getClassLoader().getResourceAsStream("mail.txt");
    ByteArrayOutputStream outStream = new ByteArrayOutputStream();
    byte[] data = new byte[3049];
    int count = -1;
    try {
            while ((count = inputStream.read(data, 0, 3049)) != -1)
                outStream.write(data, 0, count);
   } catch (IOException e) {
            e.printStackTrace();
   } finally {
            inputStream.close();
   }
   String content = new String(outStream.toByteArray());
   outStream.close();
   return content;
}
```



、try {} catch {} finally {}

、getClass().getClassLoader().getResourceAsStream("mail.txt");

## Mysql

```sql
/*
Navicat MySQL Data Transfer

Source Server         : WayMIS
Source Server Version : 50715
Source Host           : 10.94.107.21:3306
Source Database       : kmtest

Target Server Type    : MYSQL
Target Server Version : 50715
File Encoding         : 65001

Date: 2018-06-19 19:40:55
*/

SET FOREIGN_KEY_CHECKS=0;

-- ----------------------------
-- Table structure for mail_job
-- ----------------------------
DROP TABLE IF EXISTS `mail_job`;
CREATE TABLE `mail_job` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `receiver_id` int(11) NOT NULL COMMENT '收件人id',
  `receiver_mail` varchar(100) NOT NULL COMMENT '收件人邮箱',
  `send_type` tinyint(4) NOT NULL COMMENT '发送类型（1:立刻发送；2:定时发送）',
  `mail_type` tinyint(4) NOT NULL COMMENT '邮件类型（1:邀请回答；2:分享）',
  `title` varchar(100) NOT NULL,
  `content` longtext NOT NULL,
  `response_message` varchar(100) DEFAULT NULL,
  `status` tinyint(4) NOT NULL COMMENT '状态（0:初始化；1:已发送；2:失败;3:跳过）',
  `appointment_time` timestamp NULL DEFAULT NULL COMMENT '预约发送时间（实际发送时间取决于消费者）',
  `create_time` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  `send_time` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '发送任务执行时间',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=13061 DEFAULT CHARSET=utf8mb4 COMMENT='定时发送:send_type=2, 并且设置appointment_time';
```



